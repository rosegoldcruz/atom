Welcome to Ubuntu 22.04.5 LTS (GNU/Linux 5.15.0-151-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Sat Aug  2 15:46:44 UTC 2025

Expanded Security Maintenance for Applications is not enabled.

0 updates can be applied immediately.

6 additional security updates can be applied with ESM Apps.
Learn more about enabling ESM Apps service at https://ubuntu.com/esm

New release '24.04.2 LTS' available.
Run 'do-release-upgrade' to upgrade to it.


Last login: Sat Aug  2 12:34:43 2025 from 162.243.190.66
root@ubuntu-s-2vcpu-4gb-sfo3-01:~# nano ~/.ssh/authorized_keys
root@ubuntu-s-2vcpu-4gb-sfo3-01:~# nano ~/.ssh/authorized_keys                               root@ubuntu-s-2vcpu-4gb-sfo3-01:~# chmod 600 ~/.ssh/authorized_keys
service ssh restart
root@ubuntu-s-2vcpu-4gb-sfo3-01:~# nano /etc/ssh/sshd_config
root@ubuntu-s-2vcpu-4gb-sfo3-01:~# systemctl restart ssh
root@ubuntu-s-2vcpu-4gb-sfo3-01:~# systemctl status ssh
â— ssh.service - OpenBSD Secure Shell server
     Loaded: loaded (/lib/systemd/system/ssh.service; enabled; vendor preset: enabled)
     Active: active (running) since Sat 2025-08-02 16:02:04 UTC; 12s ago
       Docs: man:sshd(8)
             man:sshd_config(5)
    Process: 45030 ExecStartPre=/usr/sbin/sshd -t (code=exited, status=0/SUCCESS)
   Main PID: 45031 (sshd)
      Tasks: 1 (limit: 4647)
     Memory: 1.7M
        CPU: 21ms
     CGroup: /system.slice/ssh.service
             â””â”€45031 "sshd: /usr/sbin/sshd -D [listener] 0 of 10-100 startups"

Aug 02 16:02:04 ubuntu-s-2vcpu-4gb-sfo3-01 systemd[1]: ssh.service: Deactivated successfully.
Aug 02 16:02:04 ubuntu-s-2vcpu-4gb-sfo3-01 systemd[1]: Stopped OpenBSD Secure Shell server.
Aug 02 16:02:04 ubuntu-s-2vcpu-4gb-sfo3-01 systemd[1]: Starting OpenBSD Secure Shell server...
Aug 02 16:02:04 ubuntu-s-2vcpu-4gb-sfo3-01 sshd[45031]: Server listening on 0.0.0.0 port 22.
Aug 02 16:02:04 ubuntu-s-2vcpu-4gb-sfo3-01 sshd[45031]: Server listening on :: port 22.
Aug 02 16:02:04 ubuntu-s-2vcpu-4gb-sfo3-01 systemd[1]: Started OpenBSD Secure Shell server.
root@ubuntu-s-2vcpu-4gb-sfo3-01:~# tail -3 ~/.ssh/authorized_keys

# Augments SSH Key
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDGvX8fJ2K9mN4pL7qR3sT1uV2wX5yZ8aB9cD0eF1gH2iJ3kL4mN5oP6qR7sT8uV9wX0yZ1aB2cD3eF4gH5iJ6kL7mN8oP9qR0sT1uV2wX3yZ4aB5cD6eF7gH8iJ9kL0mN1oP2qR3sT4uV5wX6yZ7aB8cD9eF0gH1iJ2kL3mN4oP5qR6sT7uV8wX9yZ0aB1cD2eF3gH4iJ5kL6mN7oP8qR9sT0uV1wX2yZ3aB4cD5eF6gH7iJ8kL9mN0oP1qR2sT3uV4wX5yZ6aB7cD8eF9gH0iJ1kL2mN3oP4qR5sT6uV7wX8yZ9aB0cD1eF2gH3iJ4kL5mN6oP7qR8sT9uV0wX1yZ2aB3cD4eF5gH6iJ7kL8mN9oP0qR1sT2uV3wX4yZ5aB6cD7eF8gH9iJ0kL1mN2oP3qR4sT5uV6wX7yZ8aB9cD0eF1gH2iJ3kL4mN5oP6qR7sT8uV9wX0yZ1aB2cD3eF4gH5iJ6kL7mN8oP9qR0sT1uV2wX3yZ4aB5cD6eF7gH8iJ9kL0mN1oP2qR3sT4uV5wX6yZ7aB8cD9eF0gH1iJ2kL3mN4oP5qR6sT7uV8wX9yZ0aB1cD2eF3gH4iJ5kL6mN7oP8qR9sT0uV1wX2yZ3aB4cD5eF6gH7iJ8kL9mN0oP1qR2sT3uV4wX5yZ6aB7cD8eF9gH0iJ1kL2mN3oP4qR5sT6uV7wX8yZ9aB0cD1eF2gH3iJ4kL5mN6oP7qR8sT9uV0wX1yZ2aB3cD4eF5gH6iJ7kL8mN9oP0qR augment@atom
root@ubuntu-s-2vcpu-4gb-sfo3-01:~# ssh -vvv localhost
OpenSSH_8.9p1 Ubuntu-3ubuntu0.13, OpenSSL 3.0.2 15 Mar 2022
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 19: include /etc/ssh/ssh_config.d/*.conf matched no files
debug1: /etc/ssh/ssh_config line 21: Applying options for *
debug3: expanded UserKnownHostsFile '~/.ssh/known_hosts' -> '/root/.ssh/known_hosts'
debug3: expanded UserKnownHostsFile '~/.ssh/known_hosts2' -> '/root/.ssh/known_hosts2'
debug2: resolving "localhost" port 22
debug3: resolve_host: lookup localhost:22
debug3: ssh_connect_direct: entering
debug1: Connecting to localhost [::1] port 22.
debug3: set_sock_tos: set socket 3 IPV6_TCLASS 0x10
debug1: Connection established.
debug1: identity file /root/.ssh/id_rsa type -1
debug1: identity file /root/.ssh/id_rsa-cert type -1
debug1: identity file /root/.ssh/id_ecdsa type -1
debug1: identity file /root/.ssh/id_ecdsa-cert type -1
debug1: identity file /root/.ssh/id_ecdsa_sk type -1
debug1: identity file /root/.ssh/id_ecdsa_sk-cert type -1
debug1: identity file /root/.ssh/id_ed25519 type -1
debug1: identity file /root/.ssh/id_ed25519-cert type -1
debug1: identity file /root/.ssh/id_ed25519_sk type -1
debug1: identity file /root/.ssh/id_ed25519_sk-cert type -1
debug1: identity file /root/.ssh/id_xmss type -1
debug1: identity file /root/.ssh/id_xmss-cert type -1
debug1: identity file /root/.ssh/id_dsa type -1
debug1: identity file /root/.ssh/id_dsa-cert type -1
debug1: Local version string SSH-2.0-OpenSSH_8.9p1 Ubuntu-3ubuntu0.13
debug1: Remote protocol version 2.0, remote software version OpenSSH_8.9p1 Ubuntu-3ubuntu0.13
debug1: compat_banner: match: OpenSSH_8.9p1 Ubuntu-3ubuntu0.13 pat OpenSSH* compat 0x04000000
debug2: fd 3 setting O_NONBLOCK
debug1: Authenticating to localhost:22 as 'root'
debug1: load_hostkeys: fopen /root/.ssh/known_hosts2: No such file or directory
debug1: load_hostkeys: fopen /etc/ssh/ssh_known_hosts: No such file or directory
debug1: load_hostkeys: fopen /etc/ssh/ssh_known_hosts2: No such file or directory
debug3: order_hostkeyalgs: no algorithms matched; accept original
debug3: send packet: type 20
debug1: SSH2_MSG_KEXINIT sent
debug3: receive packet: type 20
debug1: SSH2_MSG_KEXINIT received
debug2: local client KEXINIT proposal
debug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,sntrup761x25519-sha512@openssh.com,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,ext-info-c,kex-strict-c-v00@openssh.com
debug2: host key algorithms: ssh-ed25519-cert-v01@openssh.com,ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,sk-ssh-ed25519-cert-v01@openssh.com,sk-ecdsa-sha2-nistp256-cert-v01@openssh.com,rsa-sha2-512-cert-v01@openssh.com,rsa-sha2-256-cert-v01@openssh.com,ssh-ed25519,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,sk-ssh-ed25519@openssh.com,sk-ecdsa-sha2-nistp256@openssh.com,rsa-sha2-512,rsa-sha2-256
debug2: ciphers ctos: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com
debug2: ciphers stoc: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com
debug2: MACs ctos: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1
debug2: MACs stoc: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1
debug2: compression ctos: none,zlib@openssh.com,zlib
debug2: compression stoc: none,zlib@openssh.com,zlib
debug2: languages ctos: 
debug2: languages stoc: 
debug2: first_kex_follows 0 
debug2: reserved 0 
debug2: peer server KEXINIT proposal
debug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,sntrup761x25519-sha512@openssh.com,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,kex-strict-s-v00@openssh.com
debug2: host key algorithms: rsa-sha2-512,rsa-sha2-256,ecdsa-sha2-nistp256,ssh-ed25519
debug2: ciphers ctos: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com
debug2: ciphers stoc: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com
debug2: MACs ctos: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1
debug2: MACs stoc: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1
debug2: compression ctos: none,zlib@openssh.com
debug2: compression stoc: none,zlib@openssh.com
debug2: languages ctos: 
debug2: languages stoc: 
debug2: first_kex_follows 0 
debug2: reserved 0 
debug3: kex_choose_conf: will use strict KEX ordering
debug1: kex: algorithm: curve25519-sha256
debug1: kex: host key algorithm: ssh-ed25519
debug1: kex: server->client cipher: chacha20-poly1305@openssh.com MAC: <implicit> compression: none
debug1: kex: client->server cipher: chacha20-poly1305@openssh.com MAC: <implicit> compression: none
debug3: send packet: type 30
debug1: expecting SSH2_MSG_KEX_ECDH_REPLY
debug3: receive packet: type 31
debug1: SSH2_MSG_KEX_ECDH_REPLY received
debug1: Server host key: ssh-ed25519 SHA256:sOrmWc+BoTDXQkUUYcGb1+szihoQt8jE00vSp7cE1Iw
debug1: load_hostkeys: fopen /root/.ssh/known_hosts2: No such file or directory
debug1: load_hostkeys: fopen /etc/ssh/ssh_known_hosts: No such file or directory
debug1: load_hostkeys: fopen /etc/ssh/ssh_known_hosts2: No such file or directory
debug3: hostkeys_find_by_key_hostfile: trying user hostfile "/root/.ssh/known_hosts"
debug3: hostkeys_foreach: reading file "/root/.ssh/known_hosts"
debug1: hostkeys_find_by_key_cb: found matching key in ~/.ssh/known_hosts:2
debug3: hostkeys_find_by_key_hostfile: trying user hostfile "/root/.ssh/known_hosts2"
debug1: hostkeys_find_by_key_hostfile: hostkeys file /root/.ssh/known_hosts2 does not exist
debug3: hostkeys_find_by_key_hostfile: trying system hostfile "/etc/ssh/ssh_known_hosts"
debug1: hostkeys_find_by_key_hostfile: hostkeys file /etc/ssh/ssh_known_hosts does not exist
debug3: hostkeys_find_by_key_hostfile: trying system hostfile "/etc/ssh/ssh_known_hosts2"
debug1: hostkeys_find_by_key_hostfile: hostkeys file /etc/ssh/ssh_known_hosts2 does not exist
The authenticity of host 'localhost (::1)' can't be established.
ED25519 key fingerprint is SHA256:sOrmWc+BoTDXQkUUYcGb1+szihoQt8jE00vSp7cE1Iw.
This host key is known by the following other names/addresses:
    ~/.ssh/known_hosts:2: [hashed name]
Are you sure you want to continue connecting (yes/no/[fingerprint])? no
Host key verification failed.
root@ubuntu-s-2vcpu-4gb-sfo3-01:~# cd /opt/atom/arbitrage-trustless-onchain-module
source venv/bin/activate
(venv) root@ubuntu-s-2vcpu-4gb-sfo3-01:/opt/atom/arbitrage-trustless-onchain-module# cd /opt/atom/arbitrage-trustless-onchain-module
source venv/bin/activate

# Create missing ZeroX client
mkdir -p backend/lib
cat > backend/lib/zeroex_client.py << 'EOF'
import os
import requests
from dotenv import load_dotenv

load_dotenv()

class ZeroXAPIError(Exception):
    pass

class ZeroXClient:
    def __init__(self, api_key=None, chain_id=8453, use_testnet=False):
        self.api_key = api_key or os.getenv("THEATOM_API_KEY")
        self.chain_id = chain_id
        self.use_testnet = use_testnet
        self.base_url = "https://api.0x.org"
        
    def example(self):
        return "ZeroXClient working"
        
    def get_quote(self, sell_token, buy_token, sell_amount):
        if not self.api_key:
            raise ZeroXAPIError("Missing THEATOM_API_KEY")
        return {"quote": "example"}
EOF

# Create missing working_config
cat > backend/bots/working_config.py << 'EOF'
import os
from dotenv import load_dotenv

load_dotenv()

uvicorn backend.main:app --host 0.0.0.0 --port 8000 --reloadoex_client import/g' backend/routers/zeroex.py
INFO:     Will watch for changes in these directories: ['/opt/atom/arbitrage-trustless-onchain-module']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [45141] using WatchFiles
/opt/atom/arbitrage-trustless-onchain-module/venv/lib/python3.10/site-packages/eth_utils/network.py:44: UserWarning: Network 345 with name 'Yooldo Verse Mainnet' does not have a valid ChainId. eth-typing should be updated with the latest networks.
  warnings.warn(
/opt/atom/arbitrage-trustless-onchain-module/venv/lib/python3.10/site-packages/eth_utils/network.py:44: UserWarning: Network 12611 with name 'Astar zkEVM' does not have a valid ChainId. eth-typing should be updated with the latest networks.
  warnings.warn(
âš ï¸ Telegram credentials not configured - notifications disabled
Process SpawnProcess-1:
Traceback (most recent call last):
  File "/usr/lib/python3.10/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/lib/python3.10/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/opt/atom/arbitrage-trustless-onchain-module/venv/lib/python3.10/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
  File "/opt/atom/arbitrage-trustless-onchain-module/venv/lib/python3.10/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
  File "/usr/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/opt/atom/arbitrage-trustless-onchain-module/venv/lib/python3.10/site-packages/uvicorn/server.py", line 68, in serve
    config.load()
  File "/opt/atom/arbitrage-trustless-onchain-module/venv/lib/python3.10/site-packages/uvicorn/config.py", line 467, in load
    self.loaded_app = import_from_string(self.app)
  File "/opt/atom/arbitrage-trustless-onchain-module/venv/lib/python3.10/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
  File "/usr/lib/python3.10/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1050, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1027, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1006, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 688, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 883, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/opt/atom/arbitrage-trustless-onchain-module/backend/main.py", line 21, in <module>
    from backend.routers import analytics, risk, zeroex, parallel_dashboard, telegram, tokens
ImportError: cannot import name 'tokens' from 'backend.routers' (/opt/atom/arbitrage-trustless-onchain-module/backend/routers/__init__.py)
^CINFO:     Stopping reloader process [45141]
(venv) root@ubuntu-s-2vcpu-4gb-sfo3-01:/opt/atom/arbitrage-trustless-onchain-module# # Stop the server first (Ctrl+C if it's still running)

# Create missing tokens router
cat > backend/routers/tokens.py << 'EOF'
from fastapi import APIRouter, HTTPException
from typing import Dict, Any
import os

router = APIRouter()

@router.get("/tokens/list")
async def get_token_list():
    """Get list of supported tokens"""
    return {
        "tokens": [
            {"symbol": "WETH", "address": "0x4200000000000000000000000000000000000006", "decimals": 18},
            {"symbol": "USDC", "address": "0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913", "decimals": 6},
            {"symbol": "DAI", "address": "0x50c5725949A6F0c72E6C4a641F24049A917DB0Cb", "decimals": 18}
        ]
    }

@router.get("/tokens/{token_address}")
async def get_token_info(token_address: str):
    """Get token information"""
    return {"address": token_address, "status": "active"}
EOF

# Now restart the server
uvicorn backend.main:app --host 0.0.0.0 --port 8000 --reload
INFO:     Will watch for changes in these directories: ['/opt/atom/arbitrage-trustless-onchain-module']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [45203] using WatchFiles
/opt/atom/arbitrage-trustless-onchain-module/venv/lib/python3.10/site-packages/eth_utils/network.py:44: UserWarning: Network 345 with name 'Yooldo Verse Mainnet' does not have a valid ChainId. eth-typing should be updated with the latest networks.
  warnings.warn(
/opt/atom/arbitrage-trustless-onchain-module/venv/lib/python3.10/site-packages/eth_utils/network.py:44: UserWarning: Network 12611 with name 'Astar zkEVM' does not have a valid ChainId. eth-typing should be updated with the latest networks.
  warnings.warn(
âš ï¸ Telegram credentials not configured - notifications disabled
INFO:     Started server process [45205]
INFO:     Waiting for application startup.
2025-08-02 16:06:46,654 - ðŸ”Œ Starting up...
2025-08-02 16:06:46,654 - [DEX Test] 'dict' object has no attribute 'tokens'
2025-08-02 16:06:46,654 - [fetch_real_opportunities] 'dict' object has no attribute 'tokens'
INFO:     Application startup complete.
2025-08-02 16:07:16,654 - [DEX Test] 'dict' object has no attribute 'tokens'
2025-08-02 16:07:16,654 - [fetch_real_opportunities] 'dict' object has no attribute 'tokens'
2025-08-02 16:07:46,653 - [DEX Test] 'dict' object has no attribute 'tokens'
2025-08-02 16:07:46,654 - [fetch_real_opportunities] 'dict' object has no attribute 'tokens'
2025-08-02 16:08:16,654 - [DEX Test] 'dict' object has no attribute 'tokens'
2025-08-02 16:08:16,654 - [fetch_real_opportunities] 'dict' object has no attribute 'tokens'
2025-08-02 16:08:46,654 - [DEX Test] 'dict' object has no attribute 'tokens'
2025-08-02 16:08:46,654 - [fetch_real_opportunities] 'dict' object has no attribute 'tokens'
INFO:     72.208.92.113:63295 - "GET /health HTTP/1.1" 200 OK
2025-08-02 16:09:16,654 - [DEX Test] 'dict' object has no attribute 'tokens'
2025-08-02 16:09:16,655 - [fetch_real_opportunities] 'dict' object has no attribute 'tokens'
2025-08-02 16:09:46,655 - [DEX Test] 'dict' object has no attribute 'tokens'
2025-08-02 16:09:46,656 - [fetch_real_opportunities] 'dict' object has no attribute 'tokens'
2025-08-02 16:10:16,656 - [DEX Test] 'dict' object has no attribute 'tokens'
2025-08-02 16:10:16,656 - [fetch_real_opportunities] 'dict' object has no attribute 'tokens'
2025-08-02 16:10:46,657 - [DEX Test] 'dict' object has no attribute 'tokens'
2025-08-02 16:10:46,657 - [fetch_real_opportunities] 'dict' object has no attribute 'tokens'
2025-08-02 16:11:16,658 - [DEX Test] 'dict' object has no attribute 'tokens'
2025-08-02 16:11:16,658 - [fetch_real_opportunities] 'dict' object has no attribute 'tokens'
2025-08-02 16:11:46,659 - [DEX Test] 'dict' object has no attribute 'tokens'
2025-08-02 16:11:46,659 - [fetch_real_opportunities] 'dict' object has no attribute 'tokens'
2025-08-02 16:12:16,659 - [DEX Test] 'dict' object has no attribute 'tokens'
2025-08-02 16:12:16,660 - [fetch_real_opportunities] 'dict' object has no attribute 'tokens'
2025-08-02 16:12:46,660 - [DEX Test] 'dict' object has no attribute 'tokens'
2025-08-02 16:12:46,660 - [fetch_real_opportunities] 'dict' object has no attribute 'tokens'
2025-08-02 16:13:16,661 - [DEX Test] 'dict' object has no attribute 'tokens'
2025-08-02 16:13:16,661 - [fetch_real_opportunities] 'dict' object has no attribute 'tokens'
2025-08-02 16:13:46,661 - [DEX Test] 'dict' object has no attribute 'tokens'
2025-08-02 16:13:46,661 - [fetch_real_opportunities] 'dict' object has no attribute 'tokens'
2025-08-02 16:14:16,661 - [DEX Test] 'dict' object has no attribute 'tokens'
2025-08-02 16:14:16,661 - [fetch_real_opportunities] 'dict' object has no attribute 'tokens'
2025-08-02 16:14:46,661 - [DEX Test] 'dict' object has no attribute 'tokens'
2025-08-02 16:14:46,661 - [fetch_real_opportunities] 'dict' object has no attribute 'tokens'
2025-08-02 16:15:16,662 - [DEX Test] 'dict' object has no attribute 'tokens'
2025-08-02 16:15:16,663 - [fetch_real_opportunities] 'dict' object has no attribute 'tokens'
2025-08-02 16:15:46,662 - [DEX Test] 'dict' object has no attribute 'tokens'
2025-08-02 16:15:46,663 - [fetch_real_opportunities] 'dict' object has no attribute 'tokens'
2025-08-02 16:16:16,663 - [DEX Test] 'dict' object has no attribute 'tokens'
2025-08-02 16:16:16,663 - [fetch_real_opportunities] 'dict' object has no attribute 'tokens'
2025-08-02 16:16:46,664 - [DEX Test] 'dict' object has no attribute 'tokens'
2025-08-02 16:16:46,664 - [fetch_real_opportunities] 'dict' object has no attribute 'tokens'
^CINFO:     Shutting down
^CINFO:     Finished server process [45205]
ERROR:    Traceback (most recent call last):
  File "/opt/atom/arbitrage-trustless-onchain-module/venv/lib/python3.10/site-packages/starlette/routing.py", line 686, in lifespan
    await receive()
  File "/opt/atom/arbitrage-trustless-onchain-module/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 137, in receive
    return await self.receive_queue.get()
  File "/usr/lib/python3.10/asyncio/queues.py", line 159, in get
    await getter
asyncio.exceptions.CancelledError

^CINFO:     Stopping reloader process [45203]
(venv) root@ubuntu-s-2vcpu-4gb-sfo3-01:/opt/atom/arbitrage-trustless-onchain-module# ^C
(venv) root@ubuntu-s-2vcpu-4gb-sfo3-01:/opt/atom/arbitrage-trustless-onchain-module# ^C
(venv) root@ubuntu-s-2vcpu-4gb-sfo3-01:/opt/atom/arbitrage-trustless-onchain-module# # Fix the tokens attribute errors
find backend/ -name "*.py" -exec sed -i 's/\.tokens\b/["tokens"]/g' {} \;

# Update your .env file with Telegram credentials
cat >> .env << 'EOF'

# --- TELEGRAM (ALERTS) ---
TELEGRAM_BOT_TOKEN=8252529903:AAFQfAwNwmksb8JGjOorr97S_sHoWKlCXaQ
TELEGRAM_USER_ID=6362797200
EOF

# Test Telegram connection
python -c "
import os
from dotenv import load_dotenv
load_dotenv()
print('Telegram Bot Token:', os.getenv('TELEGRAM_BOT_TOKEN')[:20] + '...')
print('Telegram User ID:', os.getenv('TELEGRAM_USER_ID'))
"

# Restart server with Telegram enabled
uvicorn backend.main:app --host 0.0.0.0 --port 8000 --reload
Telegram Bot Token: 8252529903:AAFQfAwNw...
Telegram User ID: 6362797200
INFO:     Will watch for changes in these directories: ['/opt/atom/arbitrage-trustless-onchain-module']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [45596] using WatchFiles
/opt/atom/arbitrage-trustless-onchain-module/venv/lib/python3.10/site-packages/eth_utils/network.py:44: UserWarning: Network 345 with name 'Yooldo Verse Mainnet' does not have a valid ChainId. eth-typing should be updated with the latest networks.
  warnings.warn(
/opt/atom/arbitrage-trustless-onchain-module/venv/lib/python3.10/site-packages/eth_utils/network.py:44: UserWarning: Network 12611 with name 'Astar zkEVM' does not have a valid ChainId. eth-typing should be updated with the latest networks.
  warnings.warn(
âš ï¸ Telegram credentials not configured - notifications disabled
INFO:     Started server process [45598]
INFO:     Waiting for application startup.
2025-08-02 16:17:09,210 - ðŸ”Œ Starting up...
2025-08-02 16:17:09,210 - [DEX Test] 'tokens'
2025-08-02 16:17:09,210 - [fetch_real_opportunities] 'tokens'
INFO:     Application startup complete.
2025-08-02 16:17:39,210 - [DEX Test] 'tokens'
2025-08-02 16:17:39,211 - [fetch_real_opportunities] 'tokens'
2025-08-02 16:18:09,211 - [DEX Test] 'tokens'
2025-08-02 16:18:09,211 - [fetch_real_opportunities] 'tokens'
^CINFO:     Shutting down
^CINFO:     Finished server process [45598]
ERROR:    Traceback (most recent call last):
  File "/opt/atom/arbitrage-trustless-onchain-module/venv/lib/python3.10/site-packages/starlette/routing.py", line 686, in lifespan
    await receive()
  File "/opt/atom/arbitrage-trustless-onchain-module/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 137, in receive
    return await self.receive_queue.get()
  File "/usr/lib/python3.10/asyncio/queues.py", line 159, in get
    await getter
asyncio.exceptions.CancelledError

INFO:     Stopping reloader process [45596]
(venv) root@ubuntu-s-2vcpu-4gb-sfo3-01:/opt/atom/arbitrage-trustless-onchain-module# # Check what .env files exist
ls -la .env*
-rw-r--r-- 1 root root 123 Aug  2 16:17 .env
(venv) root@ubuntu-s-2vcpu-4gb-sfo3-01:/opt/atom/arbitrage-trustless-onchain-module# grep -i telegram .env
# --- TELEGRAM (ALERTS) ---
TELEGRAM_BOT_TOKEN=8252529903:AAFQfAwNwmksb8JGjOorr97S_sHoWKlCXaQ
TELEGRAM_USER_ID=6362797200
(venv) root@ubuntu-s-2vcpu-4gb-sfo3-01:/opt/atom/arbitrage-trustless-onchain-module# # Fix the variable name in .env
sed -i 's/TELEGRAM_USER_ID=/TELEGRAM_CHAT_ID=/g' .env

# Verify the fix
grep -i telegram .env

# Restart server
uvicorn backend.main:app --host 0.0.0.0 --port 8000 --reload
# --- TELEGRAM (ALERTS) ---
TELEGRAM_BOT_TOKEN=8252529903:AAFQfAwNwmksb8JGjOorr97S_sHoWKlCXaQ
TELEGRAM_CHAT_ID=6362797200
INFO:     Will watch for changes in these directories: ['/opt/atom/arbitrage-trustless-onchain-module']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [45916] using WatchFiles
/opt/atom/arbitrage-trustless-onchain-module/venv/lib/python3.10/site-packages/eth_utils/network.py:44: UserWarning: Network 345 with name 'Yooldo Verse Mainnet' does not have a valid ChainId. eth-typing should be updated with the latest networks.
  warnings.warn(
/opt/atom/arbitrage-trustless-onchain-module/venv/lib/python3.10/site-packages/eth_utils/network.py:44: UserWarning: Network 12611 with name 'Astar zkEVM' does not have a valid ChainId. eth-typing should be updated with the latest networks.
  warnings.warn(
âš ï¸ Telegram credentials not configured - notifications disabled
INFO:     Started server process [45918]
INFO:     Waiting for application startup.
2025-08-02 16:20:39,782 - ðŸ”Œ Starting up...
2025-08-02 16:20:39,782 - [DEX Test] 'tokens'
2025-08-02 16:20:39,782 - [fetch_real_opportunities] 'tokens'
INFO:     Application startup complete.
^CINFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-08-02 16:21:02,960 - ðŸš¯ Shutting down...
INFO:     Application shutdown complete.
INFO:     Finished server process [45918]
INFO:     Stopping reloader process [45916]
(venv) root@ubuntu-s-2vcpu-4gb-sfo3-01:/opt/atom/arbitrage-trustless-onchain-module# sed -i 's/TELEGRAM_USER_ID=/TELEGRAM_CHAT_ID=/g' .env
(venv) root@ubuntu-s-2vcpu-4gb-sfo3-01:/opt/atom/arbitrage-trustless-onchain-module# grep -i telegram .env
# --- TELEGRAM (ALERTS) ---
TELEGRAM_BOT_TOKEN=8252529903:AAFQfAwNwmksb8JGjOorr97S_sHoWKlCXaQ
TELEGRAM_CHAT_ID=6362797200
(venv) root@ubuntu-s-2vcpu-4gb-sfo3-01:/opt/atom/arbitrage-trustless-onchain-module# # Restart server
uvicorn backend.main:app --host 0.0.0.0 --port 8000 --reload
INFO:     Will watch for changes in these directories: ['/opt/atom/arbitrage-trustless-onchain-module']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [45998] using WatchFiles
/opt/atom/arbitrage-trustless-onchain-module/venv/lib/python3.10/site-packages/eth_utils/network.py:44: UserWarning: Network 345 with name 'Yooldo Verse Mainnet' does not have a valid ChainId. eth-typing should be updated with the latest networks.
  warnings.warn(
/opt/atom/arbitrage-trustless-onchain-module/venv/lib/python3.10/site-packages/eth_utils/network.py:44: UserWarning: Network 12611 with name 'Astar zkEVM' does not have a valid ChainId. eth-typing should be updated with the latest networks.
  warnings.warn(
âš ï¸ Telegram credentials not configured - notifications disabledINFO:     Started server process [46000]
INFO:     Waiting for application startup.
2025-08-02 16:23:04,788 - ðŸ”Œ Starting up...
2025-08-02 16:23:04,788 - [DEX Test] 'tokens'
2025-08-02 16:23:04,788 - [fetch_real_opportunities] 'tokens'
INFO:     Application startup complete.
^CINFO:     Shutting down
^CINFO:     Finished server process [46000]
ERROR:    Traceback (most recent call last):
  File "/opt/atom/arbitrage-trustless-onchain-module/venv/lib/python3.10/site-packages/starlette/routing.py", line 686, in lifespan
    await receive()
  File "/opt/atom/arbitrage-trustless-onchain-module/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 137, in receive
    return await self.receive_queue.get()
  File "/usr/lib/python3.10/asyncio/queues.py", line 159, in get
    await getter
asyncio.exceptions.CancelledError

^CINFO:     Stopping reloader process [45998]
(venv) root@ubuntu-s-2vcpu-4gb-sfo3-01:/opt/atom/arbitrage-trustless-onchain-module# uvicorn backend.main:app --host 0.0.0.0 --port 8000 --reload
INFO:     Will watch for changes in these directories: ['/opt/atom/arbitrage-trustless-onchain-module']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [46033] using WatchFiles
/opt/atom/arbitrage-trustless-onchain-module/venv/lib/python3.10/site-packages/eth_utils/network.py:44: UserWarning: Network 345 with name 'Yooldo Verse Mainnet' does not have a valid ChainId. eth-typing should be updated with the latest networks.
  warnings.warn(
/opt/atom/arbitrage-trustless-onchain-module/venv/lib/python3.10/site-packages/eth_utils/network.py:44: UserWarning: Network 12611 with name 'Astar zkEVM' does not have a valid ChainId. eth-typing should be updated with the latest networks.
  warnings.warn(
âš ï¸ Telegram credentials not configured - notifications disabled
INFO:     Started server process [46035]
INFO:     Waiting for application startup.
2025-08-02 16:24:03,126 - ðŸ”Œ Starting up...2025-08-02 16:24:03,126 - [DEX Test] 'tokens'
2025-08-02 16:24:03,126 - [fetch_real_opportunities] 'tokens'
INFO:     Application startup complete. Application shutdown complete.
INFO:     Finished server process [45918]
INFO:     Stopping reloader process [45916]
(venv) root@ubuntu-s-2vcpu-4gb-sfo3-01:/opt/atom/arbitrage-trustless-onchain-module# sed -i 's/TELEGRAM_USER_ID=/TELEGRAM_CHAT_ID=/g' .env
(venv) root@ubuntu-s-2vcpu-4gb-sfo3-01:/opt/atom/arbitrage-trustless-onchain-module# grep -i telegram .env
# --- TELEGRAM (ALERTS) ---
TELEGRAM_BOT_TOKEN=8252529903:AAFQfAwNwmksb8JGjOorr97S_sHoWKlCXaQ
TELEGRAM_CHAT_ID=6362797200
(venv) root@ubuntu-s-2vcpu-4gb-sfo3-01:/opt/atom/arbitrage-trustless-onchain-module# # Restart server
uvicorn backend.main:app --host 0.0.0.0 --port 8000 --reload
INFO:     Will watch for changes in these directories: ['/opt/atom/arbitrage-trustless-onchain-module']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [45998] using WatchFiles
/opt/atom/arbitrage-trustless-onchain-module/venv/lib/python3.10/site-packages/eth_utils/network.py:44: UserWarning: Network 345 with name 'Yooldo Verse Mainnet' does not have a valid ChainId. eth-typing should be updated with the latest networks.
  warnings.warn(
/opt/atom/arbitrage-trustless-onchain-module/venv/lib/python3.10/site-packages/eth_utils/network.py:44: UserWarning: Network 12611 with name 'Astar zkEVM' does not have a valid ChainId. eth-typing should be updated with the latest networks.
  warnings.warn(
âš ï¸ Telegram credentials not configured - notifications disabledINFO:     Started server process [46000]
INFO:     Waiting for application startup.
2025-08-02 16:23:04,788 - ðŸ”Œ Starting up...
2025-08-02 16:23:04,788 - [DEX Test] 'tokens'
2025-08-02 16:23:04,788 - [fetch_real_opportunities] 'tokens'
INFO:     Application startup complete.



2025-08-02 16:24:33,127 - [DEX Test] 'tokens'
2025-08-02 16:24:33,127 - [fetch_real_opportunities] 'tokens'
nano backend/routers/telegram.py

^CINFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-08-02 16:24:53,276 - ðŸš¯ Shutting down...
INFO:     Application shutdown complete.
INFO:     Finished server process [46035]
^CINFO:     Stopping reloader process [46033]
(venv) root@ubuntu-s-2vcpu-4gb-sfo3-01:/opt/atom/arbitrage-trustless-onchain-module# ^C
(venv) root@ubuntu-s-2vcpu-4gb-sfo3-01:/opt/atom/arbitrage-trustless-onchain-module# nano backend/routers/telegram.py
(venv) root@ubuntu-s-2vcpu-4gb-sfo3-01:/opt/atom/arbitrage-trustless-onchain-module# # Check the Telegram router code
cat backend/routers/telegram.py | head -20

# Also check if there's a telegram integration file
find backend/ -name "*telegram*" -type f
from fastapi import APIRouter, HTTPException
from dotenv import load_dotenv
import os, requests

router = APIRouter()

# Load env vars every time to prevent early-access issues
load_dotenv(override=True)

# Config
TELEGRAM_BOT_TOKEN = os.getenv("TELEGRAM_BOT_TOKEN")
TELEGRAM_CHAT_ID = os.getenv("TELEGRAM_CHAT_ID")

# Mode Control (if present in backend)
try:
    from backend.logic.aeon_mode import aeon_mode, AEONExecutionMode
except:
    aeon_mode = None
    AEONExecutionMode = None

backend/utils/telegram.py
backend/routers/telegram.py
backend/routers/__pycache__/telegram.cpython-310.pyc
backend/integrations/telegram_notifier.py
backend/integrations/__pycache__/telegram_notifier.cpython-310.pyc
backend/test_telegram_integration.py
(venv) root@ubuntu-s-2vcpu-4gb-sfo3-01:/opt/atom/arbitrage-trustless-onchain-module# # Check the main telegram notifier
cat backend/integrations/telegram_notifier.py | head -30

# This is probably where the "not configured" message comes from
grep -n "not configured" backend/integrations/telegram_notifier.py
"""
ðŸ¤– ATOM Telegram Notification System
Real-time alerts for arbitrage opportunities, depegs, and system events
"""

import asyncio
import logging
import os
from datetime import datetime
from typing import Dict, List, Optional, Any
from dataclasses import dataclass
from enum import Enum

import aiohttp
import json
from urllib.parse import quote

logger = logging.getLogger(__name__)

class AlertType(Enum):
    ARBITRAGE_OPPORTUNITY = "arbitrage_opportunity"
    HIGH_PROFIT = "high_profit"
    DEPEG_DETECTED = "depeg_detected"
    TRADE_EXECUTED = "trade_executed"
    TRADE_FAILED = "trade_failed"
    SYSTEM_ERROR = "system_error"
    BOT_STATUS = "bot_status"
    SECURITY_ALERT = "security_alert"
    MANUAL_APPROVAL = "manual_approval"

60:            logger.warning("âš ï¸ Telegram credentials not configured - notifications disabled")
(venv) root@ubuntu-s-2vcpu-4gb-sfo3-01:/opt/atom/arbitrage-trustless-onchain-module# nano backend/integrations/telegram_notifier.py
(venv) root@ubuntu-s-2vcpu-4gb-sfo3-01:/opt/atom/arbitrage-trustless-onchain-module# cat > backend/integrations/telegram_notifier.py << 'EOF'
> """
ðŸ¤– cat > backend/integrations/telegram_notifier.py << 'EOF'
  cat > backend/integrations/telegram_notifier.py << 'EOF'

> """
ðŸ¤– ATOM Telegram Notification System
Real-time alerts for arbitrage opportunities, depegs, and system events
"""

import asyncio
import logging
import os
from datetime import datetime
from typing import Dict, List, Optional, Any
from dataclasses import dataclass
from enum import Enum
from dotenv import load_dotenv
from urllib.parse import quote
import aiohttp
import json

load_dotenv(override=True)

logger = logging.getLogger(__name__)

class AlertType(Enum):
    ARBITRAGE_OPPORTUNITY = "arbitrage_opportunity"
    HIGH_PROFIT = "high_profit"
    DEPEG_DETECTED = "depeg_detected"
    TRADE_EXECUTED = "trade_executed"
    TRADE_FAILED = "trade_failed"
    SYSTEM_ERROR = "system_error"
    BOT_STATUS = "bot_status"
    SECURITY_ALERT = "security_alert"
    MANUAL_APPROVAL = "manual_approval"

@dataclass
class TelegramAlert:
    message: str
    alert_type: AlertType = AlertType.BOT_STATUS
    timestamp: Optional[datetime] = None

telegram_notifier = TelegramNotifier()nd exception: {str(e)}") {resp.status}")ayload) as resp:,
> 